{"ast":null,"code":"(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { ErrorBoundary, Loading, Theme, useIntersectionObserver } from '@o/ui';\nimport { once } from 'lodash';\nimport React, { lazy, memo, Suspense, useEffect, useRef, useState } from 'react';\nimport { requestIdleCallback } from '../etc/requestIdle';\nimport { Header } from '../Header';\nimport { useIsTiny } from '../hooks/useScreenSize';\nimport { useSiteStore } from '../SiteStore';\nimport { Page } from '../views/Page';\nimport { HeadSection } from './HomePage/HeadSection';\nimport { LoadingPage } from './LoadingPage';\nimport { ParallaxContext } from './ParallaxContext';\nvar DeploySection = loadOnIntersect(lazy(() => retry(() => import(\n/* webpackChunkName: \"DeploySection\" */\n'./HomePage/DeploySection'))));\nvar AllInOnePitchDemoSection = loadOnIntersect(lazy(() => retry(() => import(\n/* webpackChunkName: \"AllInOnePitchDemoSection\" */\n'./HomePage/AllInOnePitchDemoSection'))));\nvar DataAppKitFeaturesSection = loadOnIntersect(lazy(() => retry(() => import(\n/* webpackChunkName: \"DataAppKitFeaturesSection\" */\n'./HomePage/DataAppKitFeaturesSection'))));\nvar FeetSection = loadOnIntersect(lazy(() => retry(() => import(\n/* webpackChunkName: \"FooterSection\" */\n'./HomePage/FooterSection'))));\nvar MissionMottoSection = loadOnIntersect(lazy(() => retry(() => import(\n/* webpackChunkName: \"MissionMottoSection\" */\n'./HomePage/MissionMottoSection'))));\nvar SecuritySection = loadOnIntersect(lazy(() => retry(() => import(\n/* webpackChunkName: \"SecuritySection\" */\n'./HomePage/SecuritySection'))));\nvar EarlyAccessBetaSection = loadOnIntersect(lazy(() => retry(() => import(\n/* webpackChunkName: \"EarlyAccessBetaSection\" */\n'./HomePage/EarlyAccessBetaSection'))));\nexport var HomePage = memo(__signature__(() => {\n  var siteStore = useSiteStore();\n  var [parallax, setParallax] = useState(null);\n  var isTiny = useIsTiny();\n  return React.createElement(ParallaxContext.PassProps, {\n    value: parallax\n  }, React.createElement(LoadingPage, null), React.createElement(Header, null), React.createElement(\"main\", {\n    className: \"main-contents\",\n    style: {\n      position: 'relative',\n      zIndex: 0\n    }\n  }, React.createElement(Page, null, React.createElement(HeadSection, null)), React.createElement(Page, null, React.createElement(AllInOnePitchDemoSection, null)), React.createElement(Page, null, React.createElement(DeploySection, null)), React.createElement(Page, {\n    pages: 2\n  }, React.createElement(DataAppKitFeaturesSection, null)), React.createElement(Page, null, React.createElement(EarlyAccessBetaSection, null)), React.createElement(Page, null, React.createElement(SecuritySection, null)), React.createElement(Page, null, React.createElement(MissionMottoSection, null)), React.createElement(Page, null, React.createElement(Theme, {\n    name: \"home\"\n  }, React.createElement(FeetSection, null)))));\n}, \"useSiteStore{siteStore}\\nuseState{[parallax, setParallax](null)}\\nuseIsTiny{isTiny}\", () => [useSiteStore, useIsTiny]));\nHomePage.displayName = \"HomePage\";\n// @ts-ignore\nHomePage.theme = 'home'; // @ts-ignore\n\nHomePage.showPeekHeader = true;\nvar _default = HomePage;\nexport default _default;\nvar allUpcoming = [];\n\nvar onIdle = () => new Promise(res => requestIdleCallback(res));\n\nvar startLoading = once(async () => {\n  // let initial animation run\n  await new Promise(res => setTimeout(res, 1000)); // load rest of page\n\n  var _loop = async function _loop() {\n    await onIdle();\n    await new Promise(res => setTimeout(res, 100));\n    var next = allUpcoming.reduce((a, b) => b.top < a.top ? b : a, {\n      top: Infinity\n    });\n    next.load();\n    allUpcoming.splice(allUpcoming.findIndex(x => x.load === next.load), 1);\n  };\n\n  while (allUpcoming.length) {\n    await _loop();\n  }\n});\n\nfunction loadOnIntersect(LazyComponent) {\n  return __signature__(props => {\n    var [show, setShow] = useState(false);\n    var ref = useRef(null);\n    useIntersectionObserver({\n      ref,\n      options: {\n        threshold: 0\n      },\n\n      onChange(entries) {\n        if (entries && entries[0].isIntersecting === true && !show) {\n          setShow(true);\n        }\n      }\n\n    }); // preload them when ready\n\n    useEffect(() => {\n      allUpcoming.push({\n        top: ref.current.getBoundingClientRect().y,\n        load: () => setShow(true)\n      });\n      startLoading();\n    }, []);\n    var fallback = React.createElement(Page, props, React.createElement(\"div\", {\n      className: \"intersect-div\",\n      style: {\n        display: 'flex',\n        zIndex: 1000000000000,\n        // background: 'red',\n        width: 2,\n        position: 'absolute',\n        // makes it load \"before/after\" by this px\n        top: -400,\n        bottom: -400\n      },\n      ref: ref\n    }), React.createElement(Loading, null));\n\n    if (!show) {\n      return fallback;\n    }\n\n    return React.createElement(ErrorBoundary, {\n      name: \"\" + LazyComponent.name\n    }, React.createElement(Suspense, {\n      fallback: fallback\n    }, React.createElement(LazyComponent, props)));\n  }, \"useState{[show, setShow](false)}\\nuseRef{ref}\\nuseIntersectionObserver{}\\nuseEffect{}\", () => [useIntersectionObserver]);\n}\n\nfunction retry(fn, retriesLeft, interval) {\n  if (retriesLeft === void 0) {\n    retriesLeft = 5;\n  }\n\n  if (interval === void 0) {\n    interval = 1000;\n  }\n\n  return new Promise((resolve, reject) => {\n    fn().then(resolve).catch(error => {\n      setTimeout(() => {\n        if (retriesLeft === 1) {\n          // reject('maximum retries exceeded');\n          reject(error);\n          return;\n        } // Passing on \"reject\" is the important part\n\n\n        retry(fn, retriesLeft - 1, interval).then(x => resolve(x), reject);\n      }, interval);\n    });\n  });\n}\n\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(DeploySection, \"DeploySection\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(AllInOnePitchDemoSection, \"AllInOnePitchDemoSection\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(DataAppKitFeaturesSection, \"DataAppKitFeaturesSection\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(FeetSection, \"FeetSection\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(MissionMottoSection, \"MissionMottoSection\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(SecuritySection, \"SecuritySection\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(EarlyAccessBetaSection, \"EarlyAccessBetaSection\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(HomePage, \"HomePage\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(allUpcoming, \"allUpcoming\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(onIdle, \"onIdle\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(startLoading, \"startLoading\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(loadOnIntersect, \"loadOnIntersect\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(retry, \"retry\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/nw/projects/motion/orbit/projects/site/pages/index.tsx"],"names":["ErrorBoundary","Loading","Theme","useIntersectionObserver","once","React","lazy","memo","Suspense","useEffect","useRef","useState","requestIdleCallback","Header","useIsTiny","useSiteStore","Page","HeadSection","LoadingPage","ParallaxContext","DeploySection","loadOnIntersect","retry","AllInOnePitchDemoSection","DataAppKitFeaturesSection","FeetSection","MissionMottoSection","SecuritySection","EarlyAccessBetaSection","HomePage","siteStore","parallax","setParallax","isTiny","position","zIndex","theme","showPeekHeader","allUpcoming","onIdle","Promise","res","startLoading","setTimeout","next","reduce","a","b","top","Infinity","load","splice","findIndex","x","length","LazyComponent","props","show","setShow","ref","options","threshold","onChange","entries","isIntersecting","push","current","getBoundingClientRect","y","fallback","display","width","bottom","name","fn","retriesLeft","interval","resolve","reject","then","catch","error"],"mappings":"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","sourcesContent":["import { ErrorBoundary, Loading, Theme, useIntersectionObserver } from '@o/ui'\nimport { once } from 'lodash'\nimport React, { lazy, memo, Suspense, useEffect, useRef, useState } from 'react'\n\nimport { requestIdleCallback } from '../etc/requestIdle'\nimport { Header } from '../Header'\nimport { useIsTiny } from '../hooks/useScreenSize'\nimport { useSiteStore } from '../SiteStore'\nimport { Page } from '../views/Page'\nimport { HeadSection } from './HomePage/HeadSection'\nimport { LoadingPage } from './LoadingPage'\nimport { ParallaxContext } from './ParallaxContext'\n\nconst DeploySection = loadOnIntersect(\n  lazy(() =>\n    retry(() => import(/* webpackChunkName: \"DeploySection\" */ './HomePage/DeploySection')),\n  ),\n)\nconst AllInOnePitchDemoSection = loadOnIntersect(\n  lazy(() =>\n    retry(() =>\n      import(\n        /* webpackChunkName: \"AllInOnePitchDemoSection\" */ './HomePage/AllInOnePitchDemoSection'\n      ),\n    ),\n  ),\n)\nconst DataAppKitFeaturesSection = loadOnIntersect(\n  lazy(() =>\n    retry(() =>\n      import(\n        /* webpackChunkName: \"DataAppKitFeaturesSection\" */ './HomePage/DataAppKitFeaturesSection'\n      ),\n    ),\n  ),\n)\nconst FeetSection = loadOnIntersect(\n  lazy(() =>\n    retry(() => import(/* webpackChunkName: \"FooterSection\" */ './HomePage/FooterSection')),\n  ),\n)\nconst MissionMottoSection = loadOnIntersect(\n  lazy(() =>\n    retry(() =>\n      import(/* webpackChunkName: \"MissionMottoSection\" */ './HomePage/MissionMottoSection'),\n    ),\n  ),\n)\nconst SecuritySection = loadOnIntersect(\n  lazy(() =>\n    retry(() => import(/* webpackChunkName: \"SecuritySection\" */ './HomePage/SecuritySection')),\n  ),\n)\nconst EarlyAccessBetaSection = loadOnIntersect(\n  lazy(() =>\n    retry(() =>\n      import(/* webpackChunkName: \"EarlyAccessBetaSection\" */ './HomePage/EarlyAccessBetaSection'),\n    ),\n  ),\n)\n\nexport const HomePage = memo(() => {\n  const siteStore = useSiteStore()\n  const [parallax, setParallax] = useState(null)\n  const isTiny = useIsTiny()\n\n  return (\n    <ParallaxContext.PassProps value={parallax}>\n      <LoadingPage />\n      <Header />\n      <main className=\"main-contents\" style={{ position: 'relative', zIndex: 0 }}>\n        <Page>\n          <HeadSection />\n        </Page>\n        <Page>\n          <AllInOnePitchDemoSection />\n        </Page>\n        <Page>\n          <DeploySection />\n        </Page>\n        <Page pages={2}>\n          <DataAppKitFeaturesSection />\n        </Page>\n        <Page>\n          <EarlyAccessBetaSection />\n        </Page>\n        <Page>\n          <SecuritySection />\n        </Page>\n        <Page>\n          <MissionMottoSection />\n        </Page>\n        <Page>\n          <Theme name=\"home\">\n            <FeetSection />\n          </Theme>\n        </Page>\n      </main>\n    </ParallaxContext.PassProps>\n  )\n})\n\n// @ts-ignore\nHomePage.theme = 'home'\n// @ts-ignore\nHomePage.showPeekHeader = true\n\nexport default HomePage\n\nlet allUpcoming = []\n\nconst onIdle = () => new Promise(res => requestIdleCallback(res))\n\nconst startLoading = once(async () => {\n  // let initial animation run\n  await new Promise(res => setTimeout(res, 1000))\n  // load rest of page\n  while (allUpcoming.length) {\n    await onIdle()\n    await new Promise(res => setTimeout(res, 100))\n    const next = allUpcoming.reduce((a, b) => (b.top < a.top ? b : a), { top: Infinity })\n    next.load()\n    allUpcoming.splice(allUpcoming.findIndex(x => x.load === next.load), 1)\n  }\n})\n\nfunction loadOnIntersect(LazyComponent) {\n  return props => {\n    const [show, setShow] = useState(false)\n    const ref = useRef(null)\n\n    useIntersectionObserver({\n      ref,\n      options: { threshold: 0 },\n      onChange(entries) {\n        if (entries && entries[0].isIntersecting === true && !show) {\n          setShow(true)\n        }\n      },\n    })\n\n    // preload them when ready\n    useEffect(() => {\n      allUpcoming.push({\n        top: ref.current.getBoundingClientRect().y,\n        load: () => setShow(true),\n      })\n      startLoading()\n    }, [])\n\n    const fallback = (\n      <Page {...props}>\n        <div\n          className=\"intersect-div\"\n          style={{\n            display: 'flex',\n            zIndex: 1000000000000,\n            // background: 'red',\n            width: 2,\n            position: 'absolute',\n            // makes it load \"before/after\" by this px\n            top: -400,\n            bottom: -400,\n          }}\n          ref={ref}\n        />\n        <Loading />\n      </Page>\n    )\n\n    if (!show) {\n      return fallback\n    }\n\n    return (\n      <ErrorBoundary name={`${LazyComponent.name}`}>\n        <Suspense fallback={fallback}>\n          <LazyComponent {...props} />\n        </Suspense>\n      </ErrorBoundary>\n    )\n  }\n}\n\nfunction retry<A>(fn, retriesLeft = 5, interval = 1000) {\n  return new Promise<A>((resolve, reject) => {\n    fn()\n      .then(resolve)\n      .catch(error => {\n        setTimeout(() => {\n          if (retriesLeft === 1) {\n            // reject('maximum retries exceeded');\n            reject(error)\n            return\n          }\n\n          // Passing on \"reject\" is the important part\n          retry(fn, retriesLeft - 1, interval).then(x => resolve(x as A), reject)\n        }, interval)\n      })\n  })\n}\n"]},"metadata":{},"sourceType":"module"}