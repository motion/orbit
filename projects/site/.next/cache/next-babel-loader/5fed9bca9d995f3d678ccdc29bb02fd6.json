{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { BorderBottom, Button, Row } from '@o/ui';\nimport { Box, gloss, useTheme } from 'gloss';\nimport React, { memo, useLayoutEffect } from 'react';\nimport { useIsTiny, useScreenSize } from './hooks/useScreenSize';\nimport { LinkState } from './LinkState';\nimport { useSiteStore } from './SiteStore';\nimport { FadeChild, useFadePage } from './views/FadeInView';\nimport { HeaderContain, LinkSection } from './views/HeaderContain';\nimport { HeaderContext } from './views/HeaderContext';\nimport { LinksLeft, LinksRight } from './views/HeaderLink';\nimport { LogoHorizontal } from './views/LogoHorizontal';\nimport { LogoVertical } from './views/LogoVertical';\nexport var Header = memo(__signature__((_ref) => {\n  var {\n    slim,\n    noBorder\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"slim\", \"noBorder\"]);\n\n  var isTiny = useIsTiny();\n  var size = useScreenSize();\n  var theme = useTheme();\n  var siteStore = useSiteStore();\n  var headerStore = HeaderContext.useCreateStore();\n  var {\n    shown\n  } = headerStore;\n  var Fade = useFadePage({\n    shown,\n    threshold: 0\n  });\n  useLayoutEffect(() => {\n    if (size === 'small') {\n      headerStore.setShown(siteStore.showSidebar);\n    } else {\n      headerStore.setShown(true);\n    }\n  }, [size, siteStore.showSidebar]);\n  var before = null;\n  var after = null;\n\n  if (size !== 'small') {\n    before = React.createElement(LinkRow, null, React.createElement(LinksLeft, null));\n    after = React.createElement(LinkRow, null, React.createElement(LinksRight, null));\n  }\n\n  var children = null;\n  var menuElement = size === 'small' && React.createElement(Button, {\n    position: \"fixed\",\n    top: 3,\n    right: 10,\n    zIndex: 1000000000,\n    icon: \"menu\",\n    iconSize: 16,\n    size: 2,\n    chromeless: true,\n    onClick: siteStore.toggleSidebar\n  });\n\n  if (slim) {\n    children = React.createElement(Fade.FadeProvide, null, menuElement, React.createElement(Row, _extends({\n      nodeRef: Fade.ref,\n      pointerEvents: \"auto\",\n      background: theme.background.lighten(0.05),\n      position: \"relative\",\n      zIndex: 1000000\n    }, rest), React.createElement(HeaderContain, {\n      height: 50\n    }, React.createElement(LinkSection, {\n      alignRight: true\n    }, before), React.createElement(FadeChild, _extends({\n      off: !LinkState.didAnimateOut\n    }, shown ? fadeAnimations.normal : fadeAnimations.fastStatic, {\n      delay: shown ? 0 : 0\n    }), React.createElement(LogoHorizontal, {\n      slim: true\n    })), React.createElement(LinkSection, null, after)), !noBorder && React.createElement(BorderBottom, {\n      opacity: 0.5\n    })));\n  } else {\n    children = React.createElement(Fade.FadeProvide, null, menuElement, React.createElement(Row, _extends({\n      nodeRef: Fade.ref,\n      position: isTiny ? 'relative' : 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      zIndex: 1000000,\n      alignItems: \"center\",\n      justifyContent: \"space-around\",\n      padding: [30, 0]\n    }, rest), React.createElement(HeaderContain, null, React.createElement(LinkSection, {\n      alignRight: true\n    }, before), React.createElement(FadeChild, {\n      off: !LinkState.didAnimateOut,\n      config: shown ? fadeAnimations.normal : fadeAnimations.fastStatic,\n      delay: shown ? 100 : 0\n    }, React.createElement(LogoVertical, null)), React.createElement(LinkSection, null, after))));\n  }\n\n  return React.createElement(HeaderContext.ProvideStore, {\n    value: headerStore\n  }, children);\n}, \"useIsTiny{isTiny}\\nuseScreenSize{size}\\nuseTheme{theme}\\nuseSiteStore{siteStore}\\nuseCreateStore{headerStore}\\nuseFadePage{Fade}\\nuseLayoutEffect{}\", () => [useIsTiny, useScreenSize, useTheme, useSiteStore, HeaderContext.useCreateStore, useFadePage]));\nHeader.displayName = \"Header\";\nvar LinkRow = gloss(Box, {\n  flexFlow: 'row',\n  flex: 1,\n  alignItems: 'center',\n  justifyContent: 'center',\n  zIndex: 1000000000,\n  position: 'relative'\n});\ntypeof LinkRow !== 'undefined' && LinkRow.withConfig && LinkRow.withConfig({\n  displayName: \"LinkRow\"\n});\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Header, \"Header\", \"/Users/nw/projects/motion/orbit/projects/site/Header.tsx\");\n  reactHotLoader.register(LinkRow, \"LinkRow\", \"/Users/nw/projects/motion/orbit/projects/site/Header.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/nw/projects/motion/orbit/projects/site/Header.tsx"],"names":["BorderBottom","Button","Row","Box","gloss","useTheme","React","memo","useLayoutEffect","useIsTiny","useScreenSize","LinkState","useSiteStore","FadeChild","useFadePage","HeaderContain","LinkSection","HeaderContext","LinksLeft","LinksRight","LogoHorizontal","LogoVertical","Header","slim","noBorder","rest","isTiny","size","theme","siteStore","headerStore","useCreateStore","shown","Fade","threshold","setShown","showSidebar","before","after","children","menuElement","toggleSidebar","ref","background","lighten","didAnimateOut","fadeAnimations","normal","fastStatic","LinkRow","flexFlow","flex","alignItems","justifyContent","zIndex","position"],"mappings":"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","sourcesContent":["import { BorderBottom, Button, Row, RowProps } from '@o/ui'\nimport { Box, gloss, useTheme } from 'gloss'\nimport React, { memo, useLayoutEffect, useState } from 'react'\n\nimport { useIsTiny, useScreenSize } from './hooks/useScreenSize'\nimport { LinkState } from './LinkState'\nimport { useSiteStore } from './SiteStore'\nimport { FadeChild, useFadePage } from './views/FadeInView'\nimport { HeaderContain, LinkSection } from './views/HeaderContain'\nimport { HeaderContext } from './views/HeaderContext'\nimport { LinksLeft, LinksRight } from './views/HeaderLink'\nimport { LogoHorizontal } from './views/LogoHorizontal'\nimport { LogoVertical } from './views/LogoVertical'\n\nexport type HeaderProps = {\n  slim?: boolean\n  noBorder?: boolean\n} & RowProps\n\nexport const Header = memo(({ slim, noBorder, ...rest }: HeaderProps) => {\n  const isTiny = useIsTiny()\n  const size = useScreenSize()\n  const theme = useTheme()\n  const siteStore = useSiteStore()\n  const headerStore = HeaderContext.useCreateStore()\n  const { shown } = headerStore\n  const Fade = useFadePage({ shown, threshold: 0 })\n\n  useLayoutEffect(() => {\n    if (size === 'small') {\n      headerStore.setShown(siteStore.showSidebar)\n    } else {\n      headerStore.setShown(true)\n    }\n  }, [size, siteStore.showSidebar])\n\n  let before = null\n  let after = null\n  if (size !== 'small') {\n    before = (\n      <LinkRow>\n        <LinksLeft />\n      </LinkRow>\n    )\n    after = (\n      <LinkRow>\n        <LinksRight />\n      </LinkRow>\n    )\n  }\n\n  let children = null\n  const menuElement = size === 'small' && (\n    <Button\n      position=\"fixed\"\n      top={3}\n      right={10}\n      zIndex={1000000000}\n      icon=\"menu\"\n      iconSize={16}\n      size={2}\n      chromeless\n      onClick={siteStore.toggleSidebar}\n    />\n  )\n\n  if (slim) {\n    children = (\n      <Fade.FadeProvide>\n        {menuElement}\n        <Row\n          nodeRef={Fade.ref}\n          pointerEvents=\"auto\"\n          background={theme.background.lighten(0.05)}\n          position=\"relative\"\n          zIndex={1000000}\n          {...rest}\n        >\n          <HeaderContain height={50}>\n            <LinkSection alignRight>{before}</LinkSection>\n            <FadeChild\n              off={!LinkState.didAnimateOut}\n              {...(shown ? fadeAnimations.normal : fadeAnimations.fastStatic)}\n              delay={shown ? 0 : 0}\n            >\n              <LogoHorizontal slim />\n            </FadeChild>\n            <LinkSection>{after}</LinkSection>\n          </HeaderContain>\n          {!noBorder && <BorderBottom opacity={0.5} />}\n        </Row>\n      </Fade.FadeProvide>\n    )\n  } else {\n    children = (\n      <Fade.FadeProvide>\n        {menuElement}\n        <Row\n          nodeRef={Fade.ref}\n          position={isTiny ? 'relative' : 'absolute'}\n          top={0}\n          left={0}\n          right={0}\n          zIndex={1000000}\n          alignItems=\"center\"\n          justifyContent=\"space-around\"\n          padding={[30, 0]}\n          {...rest}\n        >\n          <HeaderContain>\n            <LinkSection alignRight>{before}</LinkSection>\n            <FadeChild\n              off={!LinkState.didAnimateOut}\n              config={shown ? fadeAnimations.normal : fadeAnimations.fastStatic}\n              delay={shown ? 100 : 0}\n            >\n              <LogoVertical />\n            </FadeChild>\n            <LinkSection>{after}</LinkSection>\n          </HeaderContain>\n        </Row>\n      </Fade.FadeProvide>\n    )\n  }\n\n  return <HeaderContext.ProvideStore value={headerStore}>{children}</HeaderContext.ProvideStore>\n})\n\nconst LinkRow = gloss(Box, {\n  flexFlow: 'row',\n  flex: 1,\n  alignItems: 'center',\n  justifyContent: 'center',\n  zIndex: 1000000000,\n  position: 'relative',\n})\n"]},"metadata":{},"sourceType":"module"}