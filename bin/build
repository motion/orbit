#!/bin/bash

. $(dirname $0)/__/common

# TODO move this into each package and just have this npm run build in each

# if in root
if [ "$(realpath .)" = "$ROOT" ]; then
  # build
  if [ "$1" = "" ]; then
    cd $ROOT
    bin/build-all
  fi
  # build --watch
  if [ "$1" = "--watch" ]; then
    cd $ROOT
    bin/build-all --watch
  fi
  exit 0
fi

# this runs in sub-directories
babel src  --extensions '.js,.ts,.tsx' --out-dir _ -s true ${@:1}
