{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { Button, Col, Form, Input, Message, Space } from '@o/ui';\nimport jsonp from 'jsonp';\nimport React from 'react';\nexport class Join extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      error: null,\n      success: null,\n      submitting: false\n    };\n    this.form = React.createRef();\n    this.email = React.createRef();\n\n    this.submit = async e => {\n      console.log('got submit');\n      e.preventDefault();\n      this.clearState();\n      this.setState({\n        submitting: true\n      });\n\n      try {\n        var finish = state => {\n          this.clearState();\n          this.setState(state);\n        };\n\n        console.log('this.form', this.form);\n        var form = this.form.current;\n        var query = {\n          id: '015e5a3442',\n          EMAIL: this.email.current.value,\n          b_019909d3efb283014d35674e5_015e5a3442: ''\n        };\n        var url = form.getAttribute('action').replace('/post', '/post-json');\n        url = url + \"&\" + queryString(query);\n        jsonp(url, {\n          param: 'c'\n        }, (error, data) => {\n          if (error) {\n            return finish({\n              error\n            });\n          }\n\n          if (data && data.result === 'error') {\n            return finish({\n              error: data.msg\n            });\n          }\n\n          return finish({\n            success: data.msg\n          });\n        });\n      } catch (err) {\n        console.log('errrr', err);\n        this.clearState();\n        this.setState({\n          error: err.message\n        });\n      }\n    };\n  }\n\n  clearState() {\n    this.setState({\n      error: null,\n      success: null,\n      submitting: false\n    });\n  }\n\n  render() {\n    var {\n      success,\n      error,\n      submitting\n    } = this.state;\n\n    var _this$props = this.props,\n        {\n      header,\n      inputProps\n    } = _this$props,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"header\", \"inputProps\"]);\n\n    var message = success || error || '';\n    return React.createElement(React.Fragment, null, React.createElement(Form, _extends({\n      action: \"https://tryorbit.us18.list-manage.com/subscribe/post?u=019909d3efb283014d35674e5\",\n      method: \"post\",\n      id: \"mc-embedded-subscribe-form-1\",\n      name: \"mc-embedded-subscribe-form\",\n      target: \"_blank\",\n      nodeRef: this.form,\n      onSubmit: this.submit\n    }, props), header, React.createElement(Input, _extends({\n      type: \"email\",\n      nodeRef: this.email,\n      name: \"EMAIL\",\n      id: \"mce-EMAIL\",\n      placeholder: \"Email address...\",\n      flex: 1,\n      size: 1.5,\n      sizeRadius: 5,\n      sizePadding: 1.5,\n      defaultValue: \"\"\n    }, inputProps)), React.createElement(Button, {\n      size: 1.5,\n      sizeRadius: 5,\n      sizeFont: 0.8,\n      sizePadding: 2,\n      type: \"submit\",\n      disabled: submitting,\n      opacity: submitting ? 0.5 : 1,\n      pointerEvents: submitting ? 'none' : 'auto',\n      cursor: \"pointer\",\n      maxWidth: 300,\n      alignSelf: \"center\"\n    }, \"Early access\")), !!message && React.createElement(Col, {\n      maxWidth: 500,\n      margin: [0, 'auto']\n    }, React.createElement(Space, {\n      size: \"lg\"\n    }), React.createElement(Message, {\n      alt: success ? 'success' : error ? 'error' : undefined,\n      dangerouslySetInnerHTML: {\n        __html: message\n      }\n    })));\n  }\n\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n\n}\nJoin.displayName = \"Join\";\n\nvar queryString = query => {\n  var esc = encodeURIComponent;\n  return Object.keys(query).map(k => esc(k) + \"=\" + (k === 'c' ? query[k] : esc(query[k]))).join('&');\n};\n\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Join, \"Join\", \"/Users/nw/projects/motion/orbit/projects/site/pages/HomePage/Join.tsx\");\n  reactHotLoader.register(queryString, \"queryString\", \"/Users/nw/projects/motion/orbit/projects/site/pages/HomePage/Join.tsx\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/nw/projects/motion/orbit/projects/site/pages/HomePage/Join.tsx"],"names":["Button","Col","Form","Input","Message","Space","jsonp","React","Join","Component","state","error","success","submitting","form","createRef","email","submit","e","console","log","preventDefault","clearState","setState","finish","current","query","id","EMAIL","value","b_019909d3efb283014d35674e5_015e5a3442","url","getAttribute","replace","queryString","param","data","result","msg","err","message","render","props","header","inputProps","undefined","__html","esc","encodeURIComponent","Object","keys","map","k","join"],"mappings":"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","sourcesContent":["import { Button, Col, Form, Input, Message, Space } from '@o/ui'\nimport jsonp from 'jsonp'\nimport React from 'react'\n\nexport class Join extends React.Component<any> {\n  state = {\n    error: null,\n    success: null,\n    submitting: false,\n  }\n  form = React.createRef<HTMLFormElement>()\n  email = React.createRef<HTMLInputElement>()\n  clearState() {\n    this.setState({ error: null, success: null, submitting: false })\n  }\n  submit = async e => {\n    console.log('got submit')\n    e.preventDefault()\n    this.clearState()\n    this.setState({ submitting: true })\n    try {\n      const finish = state => {\n        this.clearState()\n        this.setState(state)\n      }\n      console.log('this.form', this.form)\n      const form = this.form.current\n      const query = {\n        id: '015e5a3442',\n        EMAIL: this.email.current.value,\n        b_019909d3efb283014d35674e5_015e5a3442: '',\n      }\n      let url = form.getAttribute('action').replace('/post', '/post-json')\n      url = `${url}&${queryString(query)}`\n      jsonp(url, { param: 'c' }, (error, data) => {\n        if (error) {\n          return finish({ error })\n        }\n        if (data && data.result === 'error') {\n          return finish({ error: data.msg })\n        }\n        return finish({ success: data.msg })\n      })\n    } catch (err) {\n      console.log('errrr', err)\n      this.clearState()\n      this.setState({ error: err.message })\n    }\n  }\n  render() {\n    const { success, error, submitting } = this.state\n    const { header, inputProps, ...props } = this.props\n    const message = success || error || ''\n    return (\n      <>\n        <Form\n          action=\"https://tryorbit.us18.list-manage.com/subscribe/post?u=019909d3efb283014d35674e5\"\n          method=\"post\"\n          id=\"mc-embedded-subscribe-form-1\"\n          name=\"mc-embedded-subscribe-form\"\n          target=\"_blank\"\n          nodeRef={this.form}\n          onSubmit={this.submit}\n          {...props}\n        >\n          {header}\n\n          <Input\n            type=\"email\"\n            nodeRef={this.email}\n            name=\"EMAIL\"\n            id=\"mce-EMAIL\"\n            placeholder=\"Email address...\"\n            flex={1}\n            size={1.5}\n            sizeRadius={5}\n            sizePadding={1.5}\n            defaultValue=\"\"\n            {...inputProps}\n          />\n          <Button\n            size={1.5}\n            sizeRadius={5}\n            sizeFont={0.8}\n            sizePadding={2}\n            type=\"submit\"\n            disabled={submitting}\n            opacity={submitting ? 0.5 : 1}\n            pointerEvents={submitting ? 'none' : 'auto'}\n            cursor=\"pointer\"\n            maxWidth={300}\n            alignSelf=\"center\"\n          >\n            Early access\n          </Button>\n        </Form>\n        {!!message && (\n          <Col maxWidth={500} margin={[0, 'auto']}>\n            <Space size=\"lg\" />\n            <Message\n              alt={success ? 'success' : error ? 'error' : undefined}\n              dangerouslySetInnerHTML={{\n                __html: message,\n              }}\n            />\n          </Col>\n        )}\n      </>\n    )\n  }\n}\n\nconst queryString = query => {\n  const esc = encodeURIComponent\n  return Object.keys(query)\n    .map(k => `${esc(k)}=${k === 'c' ? query[k] : esc(query[k])}`)\n    .join('&')\n}\n"]},"metadata":{},"sourceType":"module"}