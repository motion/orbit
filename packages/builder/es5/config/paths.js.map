{"version":3,"sources":["../../src/config/paths.js"],"names":["path","require","fs","url","dir","process","env","BUILD_DIR","cwd","appDirectory","realpathSync","resolveApp","relativePath","resolve","nodePaths","NODE_PATH","split","platform","filter","Boolean","isAbsolute","folder","map","envPublicUrl","APP_URL","ensureSlash","needsSlash","hasSlash","endsWith","substr","length","getPublicUrl","appPackageJson","homepage","getServedPath","publicUrl","servedUrl","parse","pathname","module","exports","appBuild","appPublic","appHtml","appIndexJs","appNodeModules","modelsNodeModules","servedPath"],"mappings":";;AAAA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,KAAKD,QAAQ,IAAR,CAAT;AACA,IAAIE,MAAMF,QAAQ,KAAR,CAAV;;AAEA,IAAMG,MAAMC,QAAQC,GAAR,CAAYC,SAAZ,IAAyBF,QAAQG,GAAR,EAArC;AACA,IAAIC,eAAeP,GAAGQ,YAAH,CAAgBN,GAAhB,CAAnB;;AAEA,SAASO,UAAT,CAAoBC,YAApB,EAAkC;AAChC,SAAOZ,KAAKa,OAAL,CAAaJ,YAAb,EAA2BG,YAA3B,CAAP;AACD;;AAED,IAAIE,YAAY,CAACT,QAAQC,GAAR,CAAYS,SAAZ,IAAyB,EAA1B,EACbC,KADa,CACPX,QAAQY,QAAR,KAAqB,OAArB,GAA+B,GAA/B,GAAqC,GAD9B,EAEbC,MAFa,CAENC,OAFM,EAGbD,MAHa,CAGN;AAAA,SAAU,CAAClB,KAAKoB,UAAL,CAAgBC,MAAhB,CAAX;AAAA,CAHM,EAIbC,GAJa,CAITX,UAJS,CAAhB;;AAMA,IAAIY,eAAelB,QAAQC,GAAR,CAAYkB,OAA/B;;AAEA,SAASC,WAAT,CAAqBzB,IAArB,EAA2B0B,UAA3B,EAAuC;AACrC,MAAIC,WAAW3B,KAAK4B,QAAL,CAAc,GAAd,CAAf;AACA,MAAID,YAAY,CAACD,UAAjB,EAA6B;AAC3B,WAAO1B,KAAK6B,MAAL,CAAY7B,IAAZ,EAAkBA,KAAK8B,MAAL,GAAc,CAAhC,CAAP;AACD,GAFD,MAEO,IAAI,CAACH,QAAD,IAAaD,UAAjB,EAA6B;AAClC,WAAO1B,OAAO,GAAd;AACD,GAFM,MAEA;AACL,WAAOA,IAAP;AACD;AACF;;AAED,SAAS+B,YAAT,CAAsBC,cAAtB,EAAsC;AACpC,SAAOT,gBAAgBtB,QAAQ+B,cAAR,EAAwBC,QAA/C;AACD;;AAED,SAASC,aAAT,CAAuBF,cAAvB,EAAuC;AACrC,MAAIG,YAAYJ,aAAaC,cAAb,CAAhB;AACA,MAAII,YACFb,iBAAiBY,YAAYhC,IAAIkC,KAAJ,CAAUF,SAAV,EAAqBG,QAAjC,GAA4C,GAA7D,CADF;AAEA,SAAOb,YAAYW,SAAZ,EAAuB,IAAvB,CAAP;AACD;;AAEDG,OAAOC,OAAP,GAAiB;AACfC,YAAU9B,WAAW,OAAX,CADK;AAEf+B,aAAW/B,WAAW,QAAX,CAFI;AAGfgC,WAAShC,WAAW,YAAX,CAHM;AAIfiC,cAAYjC,WAAW,OAAX,CAJG;AAKfqB,kBAAgBrB,WAAW,cAAX,CALD;AAMfkC,kBAAgBlC,WAAW,cAAX,CAND;AAOfmC,qBAAmBnC,WAAW,wBAAX,CAPJ;AAQfG,aAAWA,SARI;AASfqB,aAAWJ,aAAapB,WAAW,cAAX,CAAb,CATI;AAUfoC,cAAYb,cAAcvB,WAAW,cAAX,CAAd;AAVG,CAAjB","file":"paths.js","sourcesContent":["var path = require('path')\nvar fs = require('fs')\nvar url = require('url')\n\nconst dir = process.env.BUILD_DIR || process.cwd()\nvar appDirectory = fs.realpathSync(dir)\n\nfunction resolveApp(relativePath) {\n  return path.resolve(appDirectory, relativePath)\n}\n\nvar nodePaths = (process.env.NODE_PATH || '')\n  .split(process.platform === 'win32' ? ';' : ':')\n  .filter(Boolean)\n  .filter(folder => !path.isAbsolute(folder))\n  .map(resolveApp)\n\nvar envPublicUrl = process.env.APP_URL\n\nfunction ensureSlash(path, needsSlash) {\n  var hasSlash = path.endsWith('/')\n  if (hasSlash && !needsSlash) {\n    return path.substr(path, path.length - 1)\n  } else if (!hasSlash && needsSlash) {\n    return path + '/'\n  } else {\n    return path\n  }\n}\n\nfunction getPublicUrl(appPackageJson) {\n  return envPublicUrl || require(appPackageJson).homepage\n}\n\nfunction getServedPath(appPackageJson) {\n  var publicUrl = getPublicUrl(appPackageJson)\n  var servedUrl =\n    envPublicUrl || (publicUrl ? url.parse(publicUrl).pathname : '/')\n  return ensureSlash(servedUrl, true)\n}\n\nmodule.exports = {\n  appBuild: resolveApp('build'),\n  appPublic: resolveApp('public'),\n  appHtml: resolveApp('index.html'),\n  appIndexJs: resolveApp('./src'),\n  appPackageJson: resolveApp('package.json'),\n  appNodeModules: resolveApp('node_modules'),\n  modelsNodeModules: resolveApp('../models/node_modules'),\n  nodePaths: nodePaths,\n  publicUrl: getPublicUrl(resolveApp('package.json')),\n  servedPath: getServedPath(resolveApp('package.json')),\n}\n"]}